@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@using Umbraco.Cms.Core.Models.Blocks;
@model IPublishedContent

@{ 
    var accom=Model.Parent;
    var roomsSelection = accom.Descendants().Where(x => x.IsDocumentType("accommodationType") && x.IsVisible() && x.Id!=Model.Id); 

    if (roomsSelection.Count()>0){
        var i=1;
        <div class="pt-offset section-carousel other-pages bg-white">
            <div class="container text-holder">
                <h2 class="h3">@Umbraco.GetDictionaryValue("otherRooms")</h2>
            </div>

            <div class="position-relative">
                <div class="swiper boxesSwiper holder-arrows-left">
                    <div class="swiper-wrapper">
        
                    @foreach (var item in roomsSelection){
                        var j=1;
                        var imgBg="";  
                        var imgBg2="";  
                    
                        <div class="swiper-slide">
                            <div class="two-cols-box">
                                <div class="box-text">
                                    <div class="text-space">
                                        <h3 class="title"><a href="@item.Url()" title="@Html.Raw(item.Value("menuTitle"))">@item.Value("menuTitle")</a></h3> 
                                        <div class="mt-3">
                                            <a href="@item.Url()" title="@item.Value("menuTitle")" class="underline-btn white">@Umbraco.GetDictionaryValue("explore")</a>
                                        </div>
                                    </div>
                                </div>
                            
                                <div class="img-holder">
                                    @if (item.HasValue("imageForListing")){
                                        var img = item.Value<IPublishedContent>("imageForListing");
                                        if (img!=null){
                                            @*<a href="@item.Url()" title="@Html.Raw(item.Value("menuTitle"))">*@
                                            <picture>
                                            <source srcset="@img.GetCropUrl("vertical-lg")&quality=70&format=webp" media="(min-width: 768px)" type="image/webp">
                                            <source srcset="@img.GetCropUrl("vertical-lg")&quality=70" media="(min-width: 768px)" type="image/jpeg">
                                             <source srcset="@img.GetCropUrl("square-md")&quality=70&format=webp" media="(min-width: 480px)" type="image/webp">
                                            <source srcset="@img.GetCropUrl("square-md")&quality=70" media="(min-width: 480px)" type="image/jpeg">
                                            <source srcset="@img.GetCropUrl("vertical")&quality=70&format=webp" media="(min-width: 340px)" type="image/webp">
                                            <source srcset="@img.GetCropUrl("vertical")&quality=70" media="(min-width: 340px)" type="image/jpeg">
                                            <source srcset="@img.GetCropUrl("vertical-sm")&quality=70&format=webp" media="(min-width: 0px)" type="image/webp">
                                            <source srcset="@img.GetCropUrl("vertical-sm")&quality=70" media="(min-width: 0px)" type="image/jpeg">
                                            <img src="@img.GetCropUrl("vertical-sm")&quality=70" alt="@Html.Partial("/Views/Partials/Shared/_AltTextImage.cshtml", img)" class="img-fluid">
                                            </picture>
                                            @*</a>*@
                                        }
                                    }
                                </div>
                            
                            </div>
                        </div>
                    i++;
                    }  
                    </div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                </div>
            </div>
        </div>
    }
}
